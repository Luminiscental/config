%% packages

% typesetting
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{microtype}
\usepackage{tikz-cd}

\usepackage[margin=1.4in]{geometry}

% mathematics
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage{mathrsfs}

% references
\usepackage[sorting=nyt,maxnames=4]{biblatex}
\usepackage{hyperref}
\hypersetup{
    colorlinks,
    linkcolor={red!50!black},
    citecolor={blue!70!black},
    urlcolor={blue!70!black}
}
\usepackage{footnotebackref}
\usepackage[capitalise]{cleveref}

%% commands

% theorems
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}

\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{example}[theorem]{Example}

% references
\numberwithin{equation}{section}
\crefname{section}{\S\kern -3pt}{\S\S}

% typesetting
\setcounter{tocdepth}{1}
\renewcommand*{\bibfont}{\normalfont\small}

% operators
\DeclareMathOperator{\Spec}{Spec}
\DeclareMathOperator{\Tot}{Tot}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\cone}{cone}
\DeclareMathOperator{\Ext}{Ext}
\DeclareMathOperator{\End}{End}
\DeclareMathOperator{\Crit}{Crit}
\DeclareMathOperator{\RHom}{\dR Hom}
\DeclareMathOperator{\Perf}{\mathfrak{Perf}}
\DeclareMathOperator{\Bl}{Bl}

% macros
\newcommand{\cat}[1]{\mathsf{#1}} % category name
\newcommand{\lperp}[1]{\prescript{\perp}{}{#1}} % left orthogonal

% names
\newcommand{\id}{\mathrm{id}}
\newcommand{\op}{\mathrm{op}}
\newcommand{\pt}{\mathrm{pt}}
\newcommand{\dR}{\mathbf{R}} % right derived prefix R

% letters
\newcommand{\tilW}{{\widetilde W}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\A}{\mathbb{A}}
\newcommand{\calA}{\mathcal{A}}
\newcommand{\calI}{\mathcal{I}}
\newcommand{\calL}{\mathcal{L}}
\newcommand{\scrC}{\mathscr{C}}
\newcommand{\scrF}{\mathscr{F}}
\renewcommand{\P}{\mathbb{P}}
\renewcommand{\O}{\mathcal{O}}
\newcommand{\W}{\mathcal{W}}
